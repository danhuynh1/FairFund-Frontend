{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhuyn\\\\Sync\\\\Projects\\\\fairfund-frontend\\\\fairfund-frontend\\\\src\\\\components\\\\GoogleLogin.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GoogleLoginButton = () => {\n  _s();\n  const {\n    login\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const initializeGoogle = () => {\n      if (window.google && window.google.accounts) {\n        window.google.accounts.id.initialize({\n          client_id: '35325676352-jdrrj0eeg9ohqaslpm53ni3mdbubfead.apps.googleusercontent.com',\n          // Replace with your real ID\n          callback: async response => {\n            try {\n              const res = await axios.post('http://localhost:5000/api/users/google-login', {\n                tokenId: response.credential\n              });\n\n              // Use the context's login function with the token from the backend\n              login(res.data.token);\n\n              // Programmatically navigate to the dashboard\n              navigate('/');\n            } catch (err) {\n              var _err$response;\n              console.error('Login failed:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n            }\n          }\n        });\n        window.google.accounts.id.renderButton(document.getElementById('google-login'), {\n          theme: 'outline',\n          size: 'large'\n        });\n      } else {\n        setTimeout(initializeGoogle, 100);\n      }\n    };\n    initializeGoogle();\n  }, [login, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"google-login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 10\n  }, this);\n};\n_s(GoogleLoginButton, \"Y2+LMvvemV8vYg1DEr0jv47Kmr8=\", false, function () {\n  return [useNavigate];\n});\n_c = GoogleLoginButton;\nexport default GoogleLoginButton;\nvar _c;\n$RefreshReg$(_c, \"GoogleLoginButton\");","map":{"version":3,"names":["useEffect","useContext","useNavigate","axios","AuthContext","jsxDEV","_jsxDEV","GoogleLoginButton","_s","login","navigate","initializeGoogle","window","google","accounts","id","initialize","client_id","callback","response","res","post","tokenId","credential","data","token","err","_err$response","console","error","message","renderButton","document","getElementById","theme","size","setTimeout","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/dhuyn/Sync/Projects/fairfund-frontend/fairfund-frontend/src/components/GoogleLogin.js"],"sourcesContent":["import { useEffect, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst GoogleLoginButton = () => {\r\n  const { login } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const initializeGoogle = () => {\r\n      if (window.google && window.google.accounts) {\r\n        window.google.accounts.id.initialize({\r\n          client_id: '35325676352-jdrrj0eeg9ohqaslpm53ni3mdbubfead.apps.googleusercontent.com', // Replace with your real ID\r\n          callback: async (response) => {\r\n            try {\r\n              const res = await axios.post('http://localhost:5000/api/users/google-login', {\r\n                tokenId: response.credential,\r\n              });\r\n              \r\n              // Use the context's login function with the token from the backend\r\n              login(res.data.token);\r\n              \r\n              // Programmatically navigate to the dashboard\r\n              navigate('/');\r\n\r\n            } catch (err) {\r\n              console.error('Login failed:', err.response?.data || err.message);\r\n            }\r\n          },\r\n        });\r\n\r\n        window.google.accounts.id.renderButton(\r\n          document.getElementById('google-login'),\r\n          { theme: 'outline', size: 'large' }\r\n        );\r\n      } else {\r\n        setTimeout(initializeGoogle, 100);\r\n      }\r\n    };\r\n\r\n    initializeGoogle();\r\n  }, [login, navigate]);\r\n\r\n  return <div id=\"google-login\"></div>;\r\n};\r\n\r\nexport default GoogleLoginButton;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC7C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM;IAAEC;EAAM,CAAC,GAAGR,UAAU,CAACG,WAAW,CAAC;EACzC,MAAMM,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,MAAMW,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,IAAIC,MAAM,CAACC,MAAM,IAAID,MAAM,CAACC,MAAM,CAACC,QAAQ,EAAE;QAC3CF,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACC,EAAE,CAACC,UAAU,CAAC;UACnCC,SAAS,EAAE,yEAAyE;UAAE;UACtFC,QAAQ,EAAE,MAAOC,QAAQ,IAAK;YAC5B,IAAI;cACF,MAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAC,8CAA8C,EAAE;gBAC3EC,OAAO,EAAEH,QAAQ,CAACI;cACpB,CAAC,CAAC;;cAEF;cACAd,KAAK,CAACW,GAAG,CAACI,IAAI,CAACC,KAAK,CAAC;;cAErB;cACAf,QAAQ,CAAC,GAAG,CAAC;YAEf,CAAC,CAAC,OAAOgB,GAAG,EAAE;cAAA,IAAAC,aAAA;cACZC,OAAO,CAACC,KAAK,CAAC,eAAe,EAAE,EAAAF,aAAA,GAAAD,GAAG,CAACP,QAAQ,cAAAQ,aAAA,uBAAZA,aAAA,CAAcH,IAAI,KAAIE,GAAG,CAACI,OAAO,CAAC;YACnE;UACF;QACF,CAAC,CAAC;QAEFlB,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACC,EAAE,CAACgB,YAAY,CACpCC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,EACvC;UAAEC,KAAK,EAAE,SAAS;UAAEC,IAAI,EAAE;QAAQ,CACpC,CAAC;MACH,CAAC,MAAM;QACLC,UAAU,CAACzB,gBAAgB,EAAE,GAAG,CAAC;MACnC;IACF,CAAC;IAEDA,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,CAACF,KAAK,EAAEC,QAAQ,CAAC,CAAC;EAErB,oBAAOJ,OAAA;IAAKS,EAAE,EAAC;EAAc;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACtC,CAAC;AAAChC,EAAA,CAxCID,iBAAiB;EAAA,QAEJL,WAAW;AAAA;AAAAuC,EAAA,GAFxBlC,iBAAiB;AA0CvB,eAAeA,iBAAiB;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}